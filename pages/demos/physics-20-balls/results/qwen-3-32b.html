<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hexagon Gravity Simulation</title>
  <style>
    body { margin: 0; overflow: hidden; }
    canvas { display: block; background: #f0f0f0; }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  let width = canvas.width = window.innerWidth;
  let height = canvas.height = window.innerHeight;
  window.addEventListener('resize', () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  });

  // Hexagon parameters
  const hexCenter = { x: width/2, y: height/2 };
  const hexRadius = 200;
  let hexRotation = 0;

  // Gravity parameters
  let gravityDirection = 1; // 1 = down, -1 = up
  const gravityStrength = 0.3;
  setInterval(() => {
    gravityDirection *= -1;
  }, 5000);

  // Ball class
  class Ball {
    constructor() {
      this.reset();
    }
    reset() {
      this.x = hexCenter.x;
      this.y = hexCenter.y;
      this.radius = 8;
      this.vx = (Math.random() - 0.5) * 4;
      this.vy = (Math.random() - 0.5) * 4;
    }
    update() {
      this.vy += gravityDirection * gravityStrength;
      this.x += this.vx;
      this.y += this.vy;

      // Bounce off walls
      if (this.x < this.radius || this.x > width - this.radius) this.vx *= -1;
      if (this.y < this.radius || this.y > height - this.radius) this.vy *= -1;
    }
    draw() {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);
      ctx.fillStyle = '#333';
      ctx.fill();
    }
  }

  // Create balls
  const balls = [];
  for (let i = 0; i < 20; i++) {
    balls.push(new Ball());
  }

  // Draw hexagon
  function drawHexagon() {
    ctx.save();
    ctx.translate(hexCenter.x, hexCenter.y);
    ctx.rotate(hexRotation);
    ctx.beginPath();
    for (let i = 0; i < 6; i++) {
      const angle = i * Math.PI/3;
      const x = hexRadius * Math.cos(angle);
      const y = hexRadius * Math.sin(angle);
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.closePath();
    ctx.strokeStyle = '#666';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.restore();
  }

  // Animation loop
  function animate() {
    ctx.clearRect(0, 0, width, height);
    
    // Update hexagon rotation
    hexRotation += 0.005;
    
    // Update and draw balls
    for (const ball of balls) {
      ball.update();
      ball.draw();
    }
    
    // Draw hexagon
    drawHexagon();
    
    requestAnimationFrame(animate);
  }

  animate();
</script>
</body>
</html>

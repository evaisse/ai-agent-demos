<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Demo</title>
</head>
<body>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .chat-container {
            max-width: 700px;
            margin: 50px auto;
            padding: 20px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .messages {
            height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 10px;
        }
        .message {
            margin: 5px 0;
        }
        .message.user {
            text-align: right;
            color: blue;
        }
        .message.bot {
            text-align: left;
            color: green;
        }
    </style>
</head>
<body>

<div class="chat-container">
    <h2 class="text-center">Chatbot</h2>
    <div class="mb-3">
        <label for="apiKey" class="form-label">OpenRouter API Key:</label>
        <input type="text" class="form-control" id="apiKey" placeholder="Enter your API Key">
    </div>
    <div class="mb-3">
        <label for="modelSelect" class="form-label">Select Model:</label>
        <select class="form-select" id="modelSelect"></select>
    </div>
    <div class="messages" id="messages"></div>
    <div class="input-group">
        <input type="text" class="form-control" id="userInput" placeholder="Type your message...">
        <button class="btn btn-primary" id="sendBtn">Send</button>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        const apiKeyInput = $('#apiKey');
        const modelSelect = $('#modelSelect');
        const messagesDiv = $('#messages');
        const userInput = $('#userInput');
        const sendBtn = $('#sendBtn');

        // Load models when the API key is set
        apiKeyInput.on('change', function () {
            const apiKey = apiKeyInput.val();
            localStorage.setItem('openRouterApiKey', apiKey);
            loadModels(apiKey);
        });

        // Load models from OpenRouter API
        function loadModels(apiKey) {
            $.get('https://openrouter.ai/api/v1/models', function (data) {
                modelSelect.empty();
                data.models.forEach(model => {
                    modelSelect.append(new Option(model.name, model.id));
                });
            });
        }

        // Send user message
        sendBtn.on('click', function () {
            const userMessage = userInput.val();
            const selectedModel = modelSelect.val();
            const apiKey = localStorage.getItem('openRouterApiKey');

            if (userMessage && selectedModel && apiKey) {
                messagesDiv.append(`<div class="message user">${userMessage}</div>
</body>
</html>